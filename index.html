<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SASTIK GBQ+ Verse Filter</title>
  <meta property="og:title" content="SASTIK GBQ+ Verse">
  <meta property="og:description" content="Explore categorized theological verses from the Gita, Bible, Quran, and more.">
  <meta property="og:image" content="https://subhendug1793.github.io/verse-viewer/images/sastik_logo.png">
  <meta property="og:url" content="https://subhendug1793.github.io/verse-viewer/">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { 
      font-family: 'Poppins', sans-serif; 
      margin: 20px; 
      background: #f9f9f9; 
      position: relative; 
      min-height: 100vh; 
      display: flex;
      flex-direction: column;
    }
    .header-container { 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      margin-bottom: 20px; 
    }
    .header-info { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      width: 100%; 
      position: absolute; 
      top: 20px; 
      left: 20px; 
      right: 20px; 
      font-size: 0.9em; 
      color: #666; 
      z-index: 10; 
    }
    .header-info .last-updated {
      position: absolute; 
      right: 20px; 
    }
    .header-info .last-updated a {
      color: #0066cc;
      text-decoration: none;
    }
    .header-info .visitor-count {
      position: absolute; 
      left: 0; 
      font-weight: bold;
      color: #333;
      z-index: 10;
    }
    .header-info .visitor-count.error {
      font-weight: normal;
      color: #999;
    }
    .logo { 
      width: 80px; 
      height: auto; 
      margin-right: 10px; 
    }
    h2 { 
      font-family: 'Merriweather', serif;
      color: #0066cc;
      text-align: center; 
      margin: 0; 
      font-size: 1.8em;
      font-weight: bold; 
      white-space: nowrap; 
      text-decoration: none; 
    }
    h2 a { 
      color: #0066cc; 
      text-decoration: none; 
    }
    h2 a:hover { 
      text-decoration: underline; 
    }
    .mission-statement { 
      font-family: 'Merriweather', serif;
      text-align: center; 
      margin: 0 auto 10px;
      max-width: 80%; 
      font-size: 1.1em; 
      line-height: 1.5; 
      font-weight: bold; 
    }
    .mission-subtext { 
      text-align: center; 
      margin: 0 auto 20px; 
      max-width: 90%; 
      font-size: 0.75em; 
      line-height: 1.2; 
      font-weight: normal; 
      white-space: nowrap; 
    }
    .controls { 
      margin-bottom: 10px; 
      text-align: center; 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      gap: 2px; 
      flex-wrap: wrap; 
    }
    .search-row { 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      gap: 10px; 
      margin-bottom: 5px;
    }
    .content-count, .match-count { 
      font-size: 1em; 
      color: #333; 
      text-align: left; 
    }
    .search-input-container {
      flex-grow: 0;
      text-align: center;
    }
    select, input { 
      font-family: 'Poppins', sans-serif;
      padding: 5px; 
      margin-right: 10px; 
    }
    select:disabled, input:disabled {
      background-color: #e0e0e0;
      cursor: not-allowed;
    }
    #searchInput { 
      width: 200px; 
    }
    .verse-container { 
      width: 80%; 
      margin: 0 auto 20px; 
      display: flex; 
      flex-direction: column; 
      gap: 25px; 
    }
    .verse-card { 
      background: linear-gradient(135deg, #ffffff, #f9f9f9); 
      box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
      padding: 20px; 
      border-radius: 12px; 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      gap: 12px; 
      transition: transform 0.2s, box-shadow 0.2s; 
      border: 1px solid rgba(0,102,204,0.1); 
    }
    .verse-card:hover { 
      transform: scale(1.02); 
      box-shadow: 0 6px 20px rgba(0,0,0,0.15); 
    }
    .verse-header { 
      display: flex; 
      width: 100%; 
      justify-content: space-between; 
      align-items: center; 
      padding: 4px 0; 
      border-bottom: 1px solid rgba(0,0,0,0.1); 
    }
    .verse-header.category-universal { 
      background-color: #00FF00; 
    }
    .verse-header.category-general { 
      background-color: #00FFFF; 
    }
    .verse-header.category-controversial { 
      background-color: #FFFF00; 
    }
    .verse-header.category-divisive { 
      background-color: #FF0000; 
    }
    .verse-header.category-violent { 
      background-color: #000000; 
      color: #FFFFFF; 
    }
    .verse-name { 
      font-family: 'Merriweather', serif; 
      font-weight: 700; 
      font-size: 1em; 
      color: #333; 
      text-align: left; 
      flex: 1; 
      padding-left: 8px; 
    }
    .verse-name a { 
      color: inherit; 
      text-decoration: underline; 
    }
    .verse-header.category-violent .verse-name, 
    .verse-header.category-violent .verse-name a { 
      color: #FFFFFF; 
    }
    .verse-category { 
      font-family: 'Poppins', sans-serif; 
      font-size: 0.9em; 
      text-align: right; 
      flex: 1; 
      padding-right: 8px; 
    }
    .verse-header.category-violent .verse-category { 
      color: #FFFFFF; 
    }
    .verse-field { 
      width: 100%; 
      text-align: center; 
      padding: 8px 0; 
      border-bottom: 1px solid rgba(0,0,0,0.1); 
      font-family: 'Poppins', sans-serif; 
      font-size: 0.95em; 
      color: #444; 
    }
    .verse-footer { 
      display: flex; 
      width: 100%; 
      justify-content: space-between; 
      align-items: center; 
      padding: 4px 0; 
      border-top: 1px solid rgba(0,0,0,0.1); 
      gap: 10px; 
    }
    .verse-subcategory { 
      font-family: 'Poppins', sans-serif; 
      font-size: 0.9em; 
      text-align: left; 
      flex: 2; 
      padding-left: 8px; 
      color: #444; 
    }
    .reaction-buttons {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 12px;
      margin: 18px 0 0 0;
      justify-content: center;
      z-index: 10;
      position: relative;
    }
    .reaction-buttons button { 
      font-family: 'Poppins', sans-serif; 
      background: none; 
      border: none; 
      cursor: pointer; 
      display: flex; 
      align-items: center; 
      gap: 5px; 
      font-size: 16px; 
    }
    .reaction-buttons button.active {
      font-weight: bold;
    }
    .reaction-buttons span {
      font-size: 1em;
      color: #333;
    }
    .share-buttons { 
      display: flex; 
      justify-content: center; 
      gap: 8px; 
      flex: 1; 
      flex-direction: row; 
      align-items: center; 
      margin-top: 3px;
    }
    .buttons-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: row;
      flex-wrap: wrap;
      gap: 8px;
      flex: 1;
    }
    .share-buttons a img { 
      width: 24px; 
      height: 24px; 
    }
    .view-full-verse { 
      display: inline-block; 
      padding: 6px 12px; 
      background: #800080;
      color: #fff; 
      text-decoration: none; 
      border-radius: 6px; 
      font-family: 'Poppins', sans-serif; 
      font-size: 0.85em; 
      box-shadow: 0 2px 6px rgba(0,102,204,0.3); 
      transition: background 0.3s, transform 0.2s; 
      text-align: right; 
      flex: none; 
    }
    .view-full-verse:hover { 
      background: #4B0082; 
      transform: translateY(-2px); 
      box-shadow: 0 4px 10px rgba(0,102,204,0.4); 
    }
    .footer { 
      position: relative; 
      margin-top: auto; 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      max-width: 80%; 
      margin: 5px auto 0;
      padding: 10px 0; 
      pointer-events: auto; 
    }
    .footer a { 
      text-decoration: none; 
      cursor: pointer; 
      pointer-events: auto; 
    }
    .footer img { 
      vertical-align: middle; 
      pointer-events: auto; 
    }
    .logos { 
      display: flex; 
      align-items: center; 
      margin-bottom: 5px; 
    }
    .logos img { 
      width: 60px; 
      height: auto; 
      margin-right: 5px; 
    }
    .logos img:last-child { 
      margin-right: 0; 
    }
    .text-group { 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      text-align: center; 
    }
    .support-text { 
      font-weight: bold; 
      font-size: 0.9em; 
      margin-bottom: 10px; 
    }
    .support-text span { 
      display: block; 
    }
    .follow-text { 
      font-size: 1.1em; 
      margin: 2px 0; 
    }
    .name-text { 
      font-family: 'Merriweather', serif;
      font-size: 2em; 
      margin: 5px 0; 
    }
    .contact-text { 
      font-size: 1em; 
      max-width: 90%; 
      text-align: center; 
      pointer-events: auto; 
    }
    .contact-text span { 
      display: block; 
      white-space: nowrap; 
      line-height: 1.4; 
    }
    .contact-text img { 
      width: 20px; 
      height: auto; 
      vertical-align: middle; 
    }
    .qr-code { 
      margin: 10px 0; 
    }
    .qr-code img { 
      width: 200px; 
      height: auto; 
    }
    .single-verse-view {
      text-align: center;
      margin: 32px auto 32px auto;
      max-width: 600px;
      min-width: 300px;
      width: 100%;
      padding: 32px 24px 24px 24px;
      background: #fff;
      box-shadow: 0 0 16px rgba(0,0,0,0.12);
      border-radius: 18px;
      position: relative;
      z-index: 5;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .single-verse-view h3 {
      margin-bottom: 18px;
      font-size: 1.35em;
    }
    .verse-details {
      margin-bottom: 24px;
      text-align: left;
    }
    .verse-details p {
      font-family: 'Merriweather', serif;
      margin: 5px 0;
      font-size: 1em;
      word-break: break-word;
    }
    .verse-details strong {
      display: inline-block;
      width: 150px;
      font-weight: bold;
    }
    .single-verse-share-buttons {
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
      margin: 18px 0 0 0;
      position: relative;
      z-index: 10;
    }
    .single-verse-share-buttons a img {
      width: 24px;
      height: 24px;
      vertical-align: middle;
    }
    @media (max-width: 700px) {
      .single-verse-view {
        max-width: 96vw;
        min-width: 0;
        padding: 10vw 2vw 5vw 2vw;
      }
      .single-verse-share-buttons, .reaction-buttons {
        gap: 10px;
        margin-top: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="header-info">
    <span class="visitor-count" id="visitorCount">Visitors: Loading...</span>
    <span class="last-updated" id="lastUpdated">Last updated: Loading...</span>
  </div>
  <div class="header-container">
    <img src="images/sastik_logo.png" alt="SASTIK Logo" class="logo" onerror="this.style.display='none';console.log('SASTIK logo failed to load');">
    <h2><a href="https://www.facebook.com/sastikofficial/" target="_blank">SASTIK GBQ+</a></h2>
  </div>
  <div class="mission-statement">
    <b>‡¶∏‡ßÅ‡¶∏‡ßç‡¶• ‡¶Ü‡¶∏‡ßç‡¶§‡¶ø‡¶ï‡¶§‡¶æ ‡¶™‡ßç‡¶∞‡¶ö‡¶æ‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø‡ßá, ‡¶π‡¶ø‡¶Ç‡¶∏‡¶æ ‡¶ì ‡¶¨‡¶ø‡¶¶‡ßç‡¶¨‡ßá‡¶∑‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∞‡ßÅ‡¶¶‡ßç‡¶ß‡ßá üö´ ‡¶∏‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡ßÄ‡¶§‡¶ø ‡¶ì ‡¶Æ‡¶æ‡¶®‡¶¨‡¶§‡¶æ‡¶∞ ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‚úÖ</b><br>
    <b>To Propagate Sane Theism, Against Hatred and Violence üö´ In Favor of Harmony and Humanity ‚úÖ</b>
  </div>
  <div class="mission-subtext">
    ‚¨áÔ∏è A unified platform offering categorized and filtered theological verses based on modern-day relevance empowering you to wisely apply or disregard teachings and avoid the misguidance of charlatans. ‚¨áÔ∏è
  </div>
  <div class="single-verse-view" id="singleVerseView" style="display: none;"></div>
  <div class="controls" id="controls">
    <label for="sheetSelector">Select Gita/Bible/Quran+:</label>
    <select id="sheetSelector" onchange="loadSheetData()">
      <option value="">Select a sheet</option>
      <option value="gita">Gita</option>
      <option value="bible">Bible</option>
      <option value="quran">Quran</option>
      <option value="hadith">Hadith</option>
      <option value="miscellaneous">Miscellaneous</option>
    </select>
    <label for="categoryFilter">Filter by Sloka/Verse/Ayah Category:</label>
    <select id="categoryFilter" disabled onchange="filterTable()">
      <option value="">All</option>
      <option value="Universal or Ethical Verse">Universal or Ethical Verse</option>
      <option value="General Intra-community Verse">General Intra-community Verse</option>
      <option value="Controversial Intra-community Verse">Controversial Intra-community Verse</option>
      <option value="Divisive or Hateful Inter-community Verse">Divisive or Hateful Inter-community Verse</option>
      <option value="Violent or Aggressive Inter-community Verse">Violent or Aggressive Inter-community Verse</option>
    </select>
    <label for="subCategoryFilter">Filter by Sub Category:</label>
    <select id="subCategoryFilter" disabled onchange="filterTable()">
      <option value="">All</option>
      <option value="Historical or Narrative verse">Historical or Narrative verse</option>
      <option value="Discriminatory or Prejudiced Verse">Discriminatory or Prejudiced Verse</option>
      <option value="Metaphorical or Symbolic verse">Metaphorical or Symbolic verse</option>
    </select>
  </div>
  <div class="search-row" id="search-row">
    <div class="content-count" id="contentCount">Content Found: 0</div>
    <div class="search-input-container">
      <input type="text" id="searchInput" placeholder="Search in table..." disabled onkeyup="searchTable()">
    </div>
    <div class="match-count" id="matchCount">Matches found: 0</div>
  </div>
  <div class="verse-container" id="verseContainer"></div>
  <div class="footer">
    <div class="text-group">
      <div class="support-text">
        <span>Developing and maintaining this unified platform requires continuous effort and dedication.</span>
        <span>We need your support to continue the SASTIK mission, which aims to create a better, harmonious society.</span>
        <span>You can encourage our efforts by scanning the <a href="upi://pay?pa=subhendu.srk1993-1@okicici&pn=Subhendu%20Ghosh&aid=uGICAgIDIy-m-Kw" target="_blank" style="color: #0066cc; text-decoration: none;">UPI QR code</a> below üôè</span>
      </div>
      <div class="qr-code">
        <a href="upi://pay?pa=subhendu.srk1993-1@okicici&pn=Subhendu%20Ghosh&aid=uGICAgIDIy-m-Kw" target="_blank"><img src="images/qrcode_logo.jpg" alt="UPI QR Code" onerror="console.log('UPI QR code failed to load')"></a>
      </div>
      <div class="follow-text">For more insights, follow me on üëá</div>
      <div class="logos">
        <a href="https://www.facebook.com/SubhenduGhoshSastik/" target="_blank"><img src="images/facebook_logo.png" alt="Facebook" onload="console.log('Facebook logo loaded')" onerror="console.log('Facebook logo failed to load')"></a>
        <a href="https://www.youtube.com/@SGSastik" target="_blank"><img src="images/youtube_logo.png" alt="YouTube" onload="console.log('YouTube logo loaded')" onerror="console.log('YouTube logo failed to load')"></a>
        <a href="https://x.com/subhendug1793" target="_blank"><img src="images/x_logo.png" alt="X" onload="console.log('X logo loaded')" onerror="console.log('X logo failed to load')"></a>
      </div>
      <div class="name-text">Subhendu Ghosh Sastik</div>
      <div class="contact-text">
        <span>If you‚Äôd like to contribute to verse updates üìú or have any suggestions or feedback üí≠</span>
        <span>Feel free to connect with <a href="https://m.me/subhendu.ghosh.790349" target="_blank" style="color: #0066cc; text-decoration: none;">me</a> on <a href="https://t.me/Sg1793" target="_blank"><img src="images/telegram_logo.png" alt="Telegram" style="width: 20px; height: auto; vertical-align: middle;"></a> or reach out via email at <a href="mailto:sastikofficial@gmail.com" target="_blank"><img src="images/gmail_logo.png" alt="Mail" style="width: 20px; height: auto; vertical-align: middle;" onerror="console.log('Gmail logo failed to load')"></a><a href="https://m.me/subhendu.ghosh.790349" target="_blank" style="color: #0066cc; text-decoration: none;">sastikofficial@gmail.com</a></span>
      </div>
    </div>
  </div>

<script type="module">
  // ... your script code remains unchanged up to the displaySingleVerse function ...
  function displaySingleVerse(verse, index) {
    const singleVerseView = document.getElementById("singleVerseView");
    if (!singleVerseView) {
      console.error("Single verse view element not found");
      return;
    }
    if (!verse) {
      singleVerseView.innerHTML = `<h3>Error</h3><p>Verse not found.</p>`;
      singleVerseView.style.display = "block";
      return;
    }
    const verseName = getColumnValue(verse, "verseName", currentSheet);
    const verseNameText = getTextForUrl(verseName);
    const heading = `${currentSheet.charAt(0).toUpperCase()}${currentSheet.slice(1)} ${verseNameText}`;
    let html = `<h3>${heading}</h3><div class="verse-details">`;
    const headers = Object.keys(verse).filter(h => h !== "sheet");
    headers.forEach(header => {
      let content = renderText(verse[header]);
      const className = header === "Verse Category " ? getCategoryClass(verse[header]) : "";
      html += `<p${className ? ` class="${className}"` : ""}><strong>${header}:</strong> ${content}</p>`;
    });
    html += `</div>
      <div class="navigation-arrows">
        <a href="?sheet=${encodeURIComponent(currentSheet)}&verse=${index - 1}" class="prev ${index <= 0 ? 'disabled' : ''}" ${index <= 0 ? '' : `onclick="navigateVerse(${index - 1}); return false;"`}>
          <img src="images/leftarrow_logo.png" alt="Previous" onerror="this.src='https://via.placeholder.com/40?text=‚Üê';">
        </a>
        <a href="?sheet=${encodeURIComponent(currentSheet)}&verse=${index + 1}" class="next ${index >= data.length - 1 ? 'disabled' : ''}" ${index >= data.length - 1 ? '' : `onclick="navigateVerse(${index + 1}); return false;"`}>
          <img src="images/rightarrow_logo.png" alt="Next" onerror="this.src='https://via.placeholder.com/40?text=‚Üí';">
        </a>
      </div>
      <div class="reaction-buttons">
        <button data-reaction="like" onclick="toggleReaction('like', '${currentSheet}', ${index})">üëç <span id="likeCount">0</span></button>
        <button data-reaction="love" onclick="toggleReaction('love', '${currentSheet}', ${index})">‚ù§Ô∏è <span id="loveCount">0</span></button>
        <button data-reaction="dislike" onclick="toggleReaction('dislike', '${currentSheet}', ${index})">üëé <span id="dislikeCount">0</span></button>
      </div>
      <div class="single-verse-share-buttons">${addShareButton(verse, index, false)}</div>
    `;
    singleVerseView.innerHTML = html;
    singleVerseView.style.display = "block";
  }
  // ... rest of your script code remains unchanged ...
</script>
</body>
</html>
